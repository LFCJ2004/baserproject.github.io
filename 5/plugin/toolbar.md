# ツールバー設定

ここでは、フロントページと管理画面共通のツールバーについて説明します。

## ツールバーの機能
ツールバーには次のような機能があります。

### 共通
- **サイト切り替え**: 複数サイトを設定している場合は、サイト名で現在の管理対象を切り替えることができます。
- **制作・開発モードの表示**: デバッグモードの場合に「デバッグモード」と表示します。
- **ユーザーメニュー**: アカウント設定、ログアウト、代理ログイン中は元のユーザーに戻る機能があります。
- **キャッシュクリア**: サーバーキャッシュを削除します。

### 管理システム

- **トップページへの移動リンク**: フロントページのトップへ移動できます。
- **各コンテンツのフロントページへの移動リンク**: 現在の画面の対象となるフロントページへ移動できます。

### フロントページ
- **ダッシュボードへの移動リンク**: ダッシュボードへ移動できます。
- **各コンテンツの編集画面への移動リンク**: 現在のページの設定、編集画面へ移動できます。

## ツールバーの表示条件
管理画面においては常時表示しますが、フロントページにおいては次の２つのタグが設置されていることが条件となります。

```php
// head タグ内に配置
<?php $this->BcBaser->scripts() ?>

// body タグ内に配置
<?php $this->BcBaser->func() ?>
```

## コンテンツのフロントページへの移動リンク設定

コントローラーとテンプレートの両方にて設定することができます。

```php
// コントローラーの場合
$this->set('publishLink', $publishLink);
// テンプレートの場合
$this->BcAdmin->setPublishLink($publishLink)
```

## コンテンツの編集画面への移動リンク

コントローラーとテンプレートの両方にて設定することができます。

```php
// コントローラーの場合
$this->set('editLink', $eidtLink);
// テンプレートの場合
$this->BcAdmin->setEditLink($eidtLink)
```


## 管理システムに設定されている現在のサイトを取得する
ツールバーのサイト切り替えにて設定されているサイト情報を取得するには次のコードを利用します。

```php
// コントローラー、テンプレートの場合
$site = $this->getRequest()->getAttribute('currentSite');
// ヘルパーの場合
$site = $this->getView()->getRequest()->getAttribute('currentSite');
```
