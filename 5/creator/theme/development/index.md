# 独自のテーマを作成する

チュートリアルを通じて、baserCMSが提供する機能に触れながら新しくテーマを作成します。

## 基礎知識

HTML、CSS、PHPとCakePHPの知識を要します。

## チュートリアルの準備

### ローカル開発環境の用意

ローカル環境を構築し、開発が始められる状態にしてください。
- [ローカル環境を構築する](/5/developer/build_local_env)


### デバッグモードへ切り替え

<!-- baserCMSのページ機能は表示速度を少しでも高速化する為、サーバーキャッシュ機能を利用しています。
サーバーキャッシュ機能が有効の場合、ファイルを更新しても表示が切り替わらない場合があります。

baserCMSでは、開発中において都度キャッシュを削除する手間を省くために、デバッグモードを用意しています。
デバッグモードにすることでサーバーキャッシュ機能を無効化できます。

`システム管理 > オプション > 制作・開発モード変更 > 保存`

デバッグモードは開発中においては非常に便利な機能ですが、様々なリスクがあるため公開サーバーでは利用しないことを推奨します。 -->


## テーマフォルダの作成

themeディレクトリに任意の名前のフォルダを作成します。
ここでは「corp」というテーマ名で進めます。
チュートリアルではこのフォルダを「テーマフォルダ」と呼びます。

`{baserCMSの設置フォルダ}/theme/corp/`

テーマ制作では、テーマフォルダにテンプレート、CSSや画像、JavaScriptを配置します。

## テーマの変更

1. 管理画面にログインします
2. メインメニューの「テーマ管理」をクリックします
3. 「corp」テーマが表示されていることを確認します
4. 選択ボタンをクリックし、テーマを選択します

## テンプレートの作成

### テンプレートの構成

baserCMSのテンプレートは上図のように構成されています。

- レイアウト
    - Webページの全体を構成するテンプレートです
    - エレメントやコンテンツを配置します
- エレメント
    - 繰り返し利用される部品となるテンプレートです
    - ヘッダーやフッターなどに利用します
- コンテンツ
    - CMSで管理しているコンテンツが出力されるエリアです

### レイアウトテンプレートの作成

レイアウトテンプレートとは、Webページの枠組みを記述するファイルです。
全ての Webページでの共通部分を含める事でメンテナンス性を高める事ができます。
このファイルを変更するだけで、あらかじめ用意されているブログや、メールフォームのレイアウトも変更する事ができます。

#### HTMLファイルの作成

テーマフォルダに `Layouts` フォルダを作成し、その中に `default.php` ファイルを作成します。
このファイルをベースに、baserCMSのタグを組み込んでいきます。

`{テーマフォルダ}/Layouts/default.php`

```php
<html>
<head>
    <title><!-- タイトルを記述 --></title>
    <meta name="description" content="説明文を記述" />
    <meta name="keywords" content="キーワードを記述" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
</head>
<body>

    <div id="Head">
    <!-- ヘッダー内容を記述 -->
    </div>

    <div id="Wrap">
        <div id="contensBody">
        <!-- コンテンツ内容を記述 -->
        </div>
        <div id="Sidebar">
        <!-- メニュー等を記述 -->
        </div>
    </div>

    <div id="Footer">
    <!-- フッター内容を記述 -->
    </div>

</body>
</html>
```

## baserCMSのタグを学ぶ

テーマ内で「baserタグ」を利用することでbaserCMSで管理しているコンテンツを表示・利用することができます。

### scripts()

JavaScriptを配置します。
`js` フォルダに配置されたJavaScriptファイルを出力します。

```php
<?php $this->BcBaser->scripts() ?>
```

> 展開後例

```html
<script src="/theme/js/example.js">
```

### content()

CMS上で管理しているコンテンツの内容を出力します。

```php
<?php $this->BcBaser->content() ?>
```

> 展開後例

```html
<div>
    <p>
        コンテンツ内容
    </P>
</div>
```

### title()

タイトルを出力します。
head > title 内や、hタグ内に利用します。

```php
<?php $this->BcBaser->title() ?>
```

> 展開後例

```html
baserメディア部始動！
```

<!--
    TODO: 他のも書く
-->

### その他

[関数リファレンス](function_reference.md)にて利用できるbaserタグを掲載しています。

## baserタグを埋め込む

[HTMLファイルの作成](#htmlファイルの作成) で作成したファイルにbaserタグを埋め込んでいきます。

<!--
    TODO: 続き書く
-->

#### 静的ファイルを配置する

CSS等の静的ファイルは、テーマフォルダの配下にフォルダを作成し、その配下に設置します。

- 画像: 「img」フォルダ
- CSS: 「css」フォルダ
- JavaScript: 「js」フォルダ

## もっと詳しく知る

- [関数リファレンス](function_reference)
- [テーマのフォルダ構造](folder)
- [用語集]()

## 作ったテーマを販売する

- [プラグイン・テーマを配布・販売する](/5/developer/market/sell)