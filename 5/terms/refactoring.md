# リファクタリング方針

## 全般

### extract 関数の置き換え
extract 関数を利用している場合、コードの見通しが悪く、IDEや静的コード解析の恩恵を受けにくいので、利用しない方針とします。  
これまでのコードで利用されている場合は、配列の値をそのまま利用するか、配列を明示的に変数に代入して利用ように変更します。

```php
$options = [
    'a' => 1,
    'b' => 2
];

// 良くないコード
extract($options);
if($a === 1) {
}

// 良いコード
if($options['a']) {
}
```

### ヘッダコメントの拡充
これまでのコードにて、ヘッダコメントにて仕様が明確になっていないものは、ヘッダコメントに詳細仕様を記載します。  
これは、テストコードがまだまだ不足しており、不特定多数の方がテストコードの作成を行う場合、詳細仕様がわからないと作成できない為です。

### 非推奨関数の置き換え
関数のヘッダーコメントに @deprecated と記されているものは、非推奨関数として、将来のバージョンで利用できなくなります。  
利用している場合は、呼出箇所において代替処理に変更します。　

### クラスメンバー変数へのアクセス
メンバー変数への直接アクセスはせず、できる限りセッター、ゲッターを配置するようにしてください。

## ビュー
### ビューにおけるビジネスロジックの実装
ビューにおいてビジネスロジックを利用したい場合、ヘルパーで直接実装せず、テーブルまたは、サービスとして実装し、ヘルパーでラッピングして利用します。  
　
## ヘルパー
### BcBaserHelper のダイエット化
BcBaserHelper は、責任を負いすぎているので、ロジックを、別のヘルパー、テーブルまたは、サービスに追い出しダイエット化を目指します。

