<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1146px" preserveAspectRatio="none" style="width:951px;height:1146px;background:#FFFFFF;" version="1.1" viewBox="0 0 951 1146" width="951px" zoomAndPan="magnify"><defs><filter height="300%" id="fmrktmdhdxutg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="90" x="424" y="17.4023">サイト管理</text><!--MD5=[2c32c094ec5c0067c7f35f8672ae5fed]
class Admin\SitesController--><polygon fill="#FEFECE" filter="url(#fmrktmdhdxutg)" points="327,28.1992,327,28.4094,337.1111,27.7849,347.2222,28.3925,357.3333,28.5989,367.4444,27.4858,377.5556,28.1215,387.6667,27.7727,397.7778,27.8157,407.8889,28.1311,418,27.5078,428.1111,28.7529,438.2222,27.5689,448.3333,28.0015,458.4444,28.6312,468.5556,28.1134,478.6667,28.2675,488.7778,28.1673,498.8889,28.3777,509,28.1992,509.2391,28.1992,509.5857,38.0212,509.6711,47.8431,509.6793,57.665,509.2546,67.487,509.4636,77.3089,509.7022,87.1309,508.2788,96.9528,509.6785,106.7747,508.7035,116.5967,509.5338,126.4186,508.505,136.2406,509,146.0625,509,145.994,498.8889,146.8041,488.7778,146.0138,478.6667,146.1678,468.5556,146.4011,458.4444,146.4787,448.3333,146.0586,438.2222,146.3497,428.1111,145.4901,418,146.3469,407.8889,146.6107,397.7778,146.507,387.6667,146.6755,377.5556,145.5794,367.4444,145.4103,357.3333,145.4411,347.2222,146.0036,337.1111,145.866,327,146.0625,327.6814,146.0625,326.8253,136.2406,326.6569,126.4186,327.2283,116.5967,326.3332,106.7747,326.4809,96.9528,327.649,87.1309,327.4357,77.3089,327.7345,67.487,326.6782,57.665,327.3192,47.8431,327.5904,38.0212,327,28.1992" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="125" x="355.5" y="44.8008">Admin\SitesController</text><path d="M328,52.332 L328,52.6123 L338,51.7796 L348,52.5897 L358,52.8649 L368,51.3808 L378,52.2284 L388,51.7634 L398,51.8207 L408,52.2412 L418,51.4102 L428,53.0702 L438,51.4917 L448,52.0683 L458,52.908 L468,52.2177 L478,52.423 L488,52.2894 L498,52.5701 L508,52.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><path d="M328,60.332 L328,60.6123 L338,59.7796 L348,60.5897 L358,60.8649 L368,59.3808 L378,60.2284 L388,59.7634 L398,59.8207 L408,60.2412 L418,59.4102 L428,61.0702 L438,59.4917 L448,60.0683 L458,60.908 L468,60.2177 L478,60.423 L488,60.2894 L498,60.5701 L508,60.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="333" y="74.9668">+サイト一覧を表示：index()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="333" y="87.9219">+サイト新規追加：add()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="333" y="100.877">+サイト編集：edit()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="333" y="113.832">+サイト削除：delete()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="333" y="126.7871">+公開状態にする：publish()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="333" y="139.7422">+非公開状態にする：unpublish()</text><!--MD5=[b2c55f146e334f720657f2ea6af6e24e]
class BcAdminSiteHelper--><polygon fill="#FEFECE" filter="url(#fmrktmdhdxutg)" points="491,238.1992,491,238.4094,500.9111,237.7849,510.8222,238.3925,520.7333,238.5989,530.6444,237.4858,540.5556,238.1215,550.4667,237.7727,560.3778,237.8157,570.2889,238.1311,580.2,237.5078,590.1111,238.7529,600.0222,237.5689,609.9333,238.0015,619.8444,238.6312,629.7556,238.1134,639.6667,238.2675,649.5778,238.1673,659.4889,238.3777,669.4,238.4384,679.3111,238.7849,689.2222,238.8703,699.1333,238.8785,709.0444,238.4538,718.9556,238.6628,728.8667,238.9015,738.7778,237.478,748.6889,238.8777,758.6,237.9027,768.5111,238.733,778.4222,237.7042,788.3333,238.1307,798.2444,238.9408,808.1556,238.1505,818.0667,238.3045,827.9778,238.5378,837.8889,238.6155,847.8,238.1953,857.7111,238.4864,867.6222,237.6268,877.5333,238.4836,887.4444,238.7474,897.3556,238.6438,907.2667,238.8122,917.1778,237.7161,927.0889,237.547,937,238.1992,936.3786,238.1992,936.9411,248.3458,936.8035,258.4924,937.6814,268.639,936.8253,278.7856,936.6569,288.9322,937.2283,299.0788,936.3332,309.2254,936.4809,319.372,937.649,329.5186,937.4357,339.6651,937.7345,349.8117,936.6782,359.9583,937.3192,370.1049,937.5904,380.2515,936.5276,390.3981,936.9041,400.5447,937.126,410.6913,937,420.8379,937,421.4897,927.0889,420.8337,917.1778,421.3005,907.2667,420.2841,897.3556,420.1606,887.4444,421.3415,877.5333,420.1209,867.6222,421.3469,857.7111,421.0445,847.8,420.57,837.8889,420.4841,827.9778,421.2967,818.0667,420.5386,808.1556,421.4298,798.2444,420.2851,788.3333,421.4553,778.4222,421.3222,768.5111,421.0829,758.6,420.8851,748.6889,421.5645,738.7778,421.4515,728.8667,421.0071,718.9556,421.1061,709.0444,420.7076,699.1333,421.5543,689.2222,420.9928,679.3111,421.0105,669.4,420.2295,659.4889,420.4327,649.5778,421.3686,639.6667,421.2677,629.7556,420.795,619.8444,420.5157,609.9333,420.619,600.0222,420.1517,590.1111,421.2526,580.2,421.5775,570.2889,421.3643,560.3778,421.5328,550.4667,420.7012,540.5556,420.9251,530.6444,420.4503,520.7333,421.1219,510.8222,421.0847,500.9111,421.3903,491,420.8379,490.7703,420.8379,490.8656,410.6913,491.4435,400.5447,491.5673,390.3981,490.4875,380.2515,490.8061,370.1049,491.1493,359.9583,490.3892,349.8117,491.3534,339.6651,491.258,329.5186,490.8992,319.372,491.1422,309.2254,491.7287,299.0788,490.6871,288.9322,491.315,278.7856,491.2856,268.639,491.1158,258.4924,491.1409,248.3458,491,238.1992" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="659.5" y="254.8008">BcAdminSiteHelper</text><path d="M492,262.332 L492,262.6123 L502.0909,261.7796 L512.1818,262.5897 L522.2727,262.8649 L532.3636,261.3808 L542.4545,262.2284 L552.5455,261.7634 L562.6364,261.8207 L572.7273,262.2412 L582.8182,261.4102 L592.9091,263.0702 L603,261.4917 L613.0909,262.0683 L623.1818,262.908 L633.2727,262.2177 L643.3636,262.423 L653.4545,262.2894 L663.5455,262.5701 L673.6364,262.6509 L683.7273,263.113 L693.8182,263.2268 L703.9091,263.2377 L714,262.6715 L724.0909,262.9501 L734.1818,263.2683 L744.2727,261.3705 L754.3636,263.2367 L764.4545,261.9367 L774.5455,263.0438 L784.6364,261.672 L794.7273,262.2407 L804.8182,263.3208 L814.9091,262.2671 L825,262.4724 L835.0909,262.7835 L845.1818,262.887 L855.2727,262.3268 L865.3636,262.715 L875.4545,261.5688 L885.5455,262.7112 L895.6364,263.063 L905.7273,262.9247 L915.8182,263.1494 L925.9091,261.6879 L936,262.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><path d="M492,270.332 L492,270.6123 L502.0909,269.7796 L512.1818,270.5897 L522.2727,270.8649 L532.3636,269.3808 L542.4545,270.2284 L552.5455,269.7634 L562.6364,269.8207 L572.7273,270.2412 L582.8182,269.4102 L592.9091,271.0702 L603,269.4917 L613.0909,270.0683 L623.1818,270.908 L633.2727,270.2177 L643.3636,270.423 L653.4545,270.2894 L663.5455,270.5701 L673.6364,270.6509 L683.7273,271.113 L693.8182,271.2268 L703.9091,271.2377 L714,270.6715 L724.0909,270.9501 L734.1818,271.2683 L744.2727,269.3705 L754.3636,271.2367 L764.4545,269.9367 L774.5455,271.0438 L784.6364,269.672 L794.7273,270.2407 L804.8182,271.3208 L814.9091,270.2671 L825,270.4724 L835.0909,270.7835 L845.1818,270.887 L855.2727,270.3268 L865.3636,270.715 L875.4545,269.5688 L885.5455,270.7112 L895.6364,271.063 L905.7273,270.9247 L915.8182,271.1494 L925.9091,269.6879 L936,270.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="192" x="497" y="284.9668">+IDよりサイトを取得する：findById()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="208" x="497" y="297.9219">+URLよりサイトを取得する：findByUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="282" x="497" y="310.877">+現在の管理対象のサイトを取得する：getCurrentSite()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="497" y="323.832">+デバイスリストを取得：getDeviceList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178" x="497" y="336.7871">+言語リストを取得：getLangList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="356" x="497" y="349.7422">+現在の管理対象のサイト以外のリストを取得する：getOtherSiteList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="193" x="497" y="362.6973">+サイトのリストを取得：getSiteList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="210" x="497" y="375.6523">+テーマのリストを取得：getThemeList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="434" x="497" y="388.6074">+現在の画面で表示しているものがメインサイトかどうか：isMainOnCurrentDisplay()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="313" x="497" y="401.5625">+デバイス設定を利用するかどうか：isUseSiteDeviceSetting()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="282" x="497" y="414.5176">+言語設定を利用するかどうか：isUseSiteLangSetting()</text><!--MD5=[286966e67f217123dd985faae5c89a0a]
class SiteService--><polygon fill="#FEFECE" filter="url(#fmrktmdhdxutg)" points="380.5,303.1992,380.5,303.4094,389.875,302.7849,399.25,303.3925,408.625,303.5989,418,302.4858,427.375,303.1215,436.75,302.7727,446.125,302.8157,455.5,303.1992,455.4318,303.1992,454.8086,313.8168,456.0536,324.4344,454.8697,335.052,455.3022,345.6695,455.5,356.2871,455.5,356.7191,446.125,356.2013,436.75,356.3553,427.375,356.2552,418,356.4656,408.625,356.5262,399.25,356.8728,389.875,356.9582,380.5,356.2871,381.1793,356.2871,380.7546,345.6695,380.9636,335.052,381.2022,324.4344,379.7788,313.8168,380.5,303.1992" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="388" y="319.8008">SiteService</text><path d="M381.5,327.332 L381.5,327.6123 L391.9286,326.7796 L402.3571,327.5897 L412.7857,327.8649 L423.2143,326.3808 L433.6429,327.2284 L444.0714,326.7634 L454.5,327.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="386.5" y="341.9668">+SitesTable</text><path d="M381.5,348.2871 L381.5,348.5674 L391.9286,347.7347 L402.3571,348.5448 L412.7857,348.82 L423.2143,347.3359 L433.6429,348.1835 L444.0714,347.7185 L454.5,348.2871 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><!--MD5=[a20652984cf7773aa6a1ae58d909bc6d]
class SiteServiceInterface--><polygon fill="#FEFECE" filter="url(#fmrktmdhdxutg)" points="7,206.1992,7,206.4094,16.9412,205.7849,26.8824,206.3925,36.8235,206.5989,46.7647,205.4858,56.7059,206.1215,66.6471,205.7727,76.5882,205.8157,86.5294,206.1311,96.4706,205.5078,106.4118,206.7529,116.3529,205.5689,126.2941,206.0015,136.2353,206.6312,146.1765,206.1134,156.1176,206.2675,166.0588,206.1673,176,206.3777,185.9412,206.4384,195.8824,206.7849,205.8235,206.8703,215.7647,206.8785,225.7059,206.4538,235.6471,206.6628,245.5882,206.9015,255.5294,205.478,265.4706,206.8777,275.4118,205.9027,285.3529,206.733,295.2941,205.7042,305.2353,206.1307,315.1765,206.9408,325.1176,206.1505,335.0588,206.3045,345,206.1992,345.3386,206.1992,345.4162,216.0958,344.9961,225.9923,345.2872,235.8889,344.4276,245.7855,345.2844,255.682,345.5482,265.5786,345.4445,275.4752,345.613,285.3717,344.5169,295.2683,344.3478,305.1648,344.3786,315.0614,344.9411,324.958,344.8035,334.8545,345.6814,344.7511,344.8253,354.6477,344.6569,364.5442,345.2283,374.4408,344.3332,384.3373,344.4809,394.2339,345.649,404.1305,345.4357,414.027,345.7345,423.9236,344.6782,433.8202,345.3192,443.7167,345,453.6133,345,454.2037,335.0588,453.1409,325.1176,453.5174,315.1765,453.7393,305.2353,454.265,295.2941,453.6091,285.3529,454.0758,275.4118,453.0595,265.4706,452.936,255.5294,454.1169,245.5882,452.8963,235.6471,454.1222,225.7059,453.8199,215.7647,453.3454,205.8235,453.2595,195.8824,454.072,185.9412,453.3139,176,454.2051,166.0588,453.0605,156.1176,454.2307,146.1765,454.0976,136.2353,453.8582,126.2941,453.6605,116.3529,454.3399,106.4118,454.2269,96.4706,453.7825,86.5294,453.8815,76.5882,453.483,66.6471,454.3297,56.7059,453.7681,46.7647,453.7859,36.8235,453.0049,26.8824,453.2081,16.9412,454.144,7,453.6133,7.4298,453.6133,6.9571,443.7167,6.6778,433.8202,6.7811,423.9236,6.3138,414.027,7.4147,404.1305,7.7396,394.2339,7.5264,384.3373,7.6949,374.4408,6.8633,364.5442,7.0872,354.6477,6.6124,344.7511,7.284,334.8545,7.2468,324.958,7.5524,315.0614,6.7703,305.1648,6.8656,295.2683,7.4435,285.3717,7.5673,275.4752,6.4875,265.5786,6.8061,255.682,7.1493,245.7855,6.3892,235.8889,7.3534,225.9923,7.258,216.0958,7,206.1992" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="121" y="222.8008">SiteServiceInterface</text><path d="M8,230.332 L8,230.6123 L17.8824,229.7796 L27.7647,230.5897 L37.6471,230.8649 L47.5294,229.3808 L57.4118,230.2284 L67.2941,229.7634 L77.1765,229.8207 L87.0588,230.2412 L96.9412,229.4102 L106.8235,231.0702 L116.7059,229.4917 L126.5882,230.0683 L136.4706,230.908 L146.3529,230.2177 L156.2353,230.423 L166.1176,230.2894 L176,230.5701 L185.8824,230.6509 L195.7647,231.113 L205.6471,231.2268 L215.5294,231.2377 L225.4118,230.6715 L235.2941,230.9501 L245.1765,231.2683 L255.0588,229.3705 L264.9412,231.2367 L274.8235,229.9367 L284.7059,231.0438 L294.5882,229.672 L304.4706,230.2407 L314.3529,231.3208 L324.2353,230.2671 L334.1176,230.4724 L344,230.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><path d="M8,238.332 L8,238.6123 L17.8824,237.7796 L27.7647,238.5897 L37.6471,238.8649 L47.5294,237.3808 L57.4118,238.2284 L67.2941,237.7634 L77.1765,237.8207 L87.0588,238.2412 L96.9412,237.4102 L106.8235,239.0702 L116.7059,237.4917 L126.5882,238.0683 L136.4706,238.908 L146.3529,238.2177 L156.2353,238.423 L166.1176,238.2894 L176,238.5701 L185.8824,238.6509 L195.7647,239.113 L205.6471,239.2268 L215.5294,239.2377 L225.4118,238.6715 L235.2941,238.9501 L245.1765,239.2683 L255.0588,237.3705 L264.9412,239.2367 L274.8235,237.9367 L284.7059,239.0438 L294.5882,237.672 L304.4706,238.2407 L314.3529,239.3208 L324.2353,238.2671 L334.1176,238.4724 L344,238.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="13" y="252.9668">+初期データ取得：getNew()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="13" y="265.9219">+作成：create()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="13" y="278.877">+編集：update()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="13" y="291.832">+削除：delete()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="13" y="304.7871">+単一データ取得：get()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="13" y="317.7422">+一覧データ取得：getIndex()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="13" y="330.6973">+リスト取得：getList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="192" x="13" y="343.6523">+IDよりサイトを取得する：findById()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="208" x="13" y="356.6074">+URLよりサイトを取得する：findByUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="13" y="369.5625">+デバイスリストを取得：getDeviceList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178" x="13" y="382.5176">+言語リストを取得：getLangList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="326" x="13" y="395.4727">+選択可能なデバイスの一覧を取得する：getSelectableDevices()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="295" x="13" y="408.4277">+選択可能が言語の一覧を取得する：getSelectableLangs()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="232" x="13" y="421.3828">+テーマのリストを取得する：getThemeList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="13" y="434.3379">+公開状態にする：publish()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="13" y="447.293">+非公開状態にする：unpublish()</text><!--MD5=[8395c9649da6a930aceab8ec8927b2c0]
class SitesTable--><polygon fill="#FEFECE" filter="url(#fmrktmdhdxutg)" points="175,513.1992,175,513.4094,184.9184,512.7849,194.8367,513.3925,204.7551,513.5989,214.6735,512.4858,224.5918,513.1215,234.5102,512.7727,244.4286,512.8157,254.3469,513.1311,264.2653,512.5078,274.1837,513.7529,284.102,512.5689,294.0204,513.0015,303.9388,513.6312,313.8571,513.1134,323.7755,513.2675,333.6939,513.1673,343.6122,513.3777,353.5306,513.4384,363.449,513.7849,373.3673,513.8703,383.2857,513.8785,393.2041,513.4538,403.1224,513.6628,413.0408,513.9015,422.9592,512.478,432.8776,513.8777,442.7959,512.9027,452.7143,513.733,462.6327,512.7042,472.551,513.1307,482.4694,513.9408,492.3878,513.1505,502.3061,513.3045,512.2245,513.5378,522.1429,513.6155,532.0612,513.1953,541.9796,513.4864,551.898,512.6268,561.8163,513.4836,571.7347,513.7474,581.6531,513.6438,591.5714,513.8122,601.4898,512.7161,611.4082,512.547,621.3265,512.5778,631.2449,513.1403,641.1633,513.0027,651.0816,513.8806,661,513.1992,660.8253,513.1992,660.6569,523.0958,661.2283,532.9923,660.3332,542.8889,660.4809,552.7855,661.649,562.682,661.4357,572.5786,661.7345,582.4752,660.6782,592.3717,661.3192,602.2683,661.5904,612.1648,660.5276,622.0614,660.9041,631.958,661.126,641.8545,661.6518,651.7511,660.9958,661.6477,661.4626,671.5442,660.4462,681.4408,660.3227,691.3373,661.5036,701.2339,660.2831,711.1305,661.509,721.027,661.2066,730.9236,660.7321,740.8202,660.6462,750.7167,661,760.6133,661,761.072,651.0816,760.3139,641.1633,761.2051,631.2449,760.0605,621.3265,761.2307,611.4082,761.0976,601.4898,760.8582,591.5714,760.6605,581.6531,761.3399,571.7347,761.2269,561.8163,760.7825,551.898,760.8815,541.9796,760.483,532.0612,761.3297,522.1429,760.7681,512.2245,760.7859,502.3061,760.0049,492.3878,760.2081,482.4694,761.144,472.551,761.043,462.6327,760.5703,452.7143,760.2911,442.7959,760.3944,432.8776,759.9271,422.9592,761.028,413.0408,761.3528,403.1224,761.1397,393.2041,761.3082,383.2857,760.4766,373.3673,760.7005,363.449,760.2257,353.5306,760.8973,343.6122,760.86,333.6939,761.1657,323.7755,760.3836,313.8571,760.4789,303.9388,761.0567,294.0204,761.1806,284.102,760.1007,274.1837,760.4194,264.2653,760.7625,254.3469,760.0024,244.4286,760.9667,234.5102,760.8713,224.5918,760.5125,214.6735,760.7555,204.7551,761.342,194.8367,760.3004,184.9184,760.9283,175,760.6133,175.2856,760.6133,175.1158,750.7167,175.1409,740.8202,175.1135,730.9236,174.3758,721.027,174.5992,711.1305,174.5385,701.2339,175.0638,691.3373,175.0881,681.4408,175.1617,671.5442,174.709,661.6477,174.9325,651.7511,174.8798,641.8545,175.5769,631.958,175.4266,622.0614,174.5145,612.1648,174.9271,602.2683,174.4228,592.3717,175.2884,582.4752,175.6085,572.5786,175.5446,562.682,174.5644,552.7855,175.464,542.8889,174.2572,532.9923,175.2002,523.0958,175,513.1992" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="388.5" y="529.8008">SitesTable</text><path d="M176,537.332 L176,537.6123 L186.0833,536.7796 L196.1667,537.5897 L206.25,537.8649 L216.3333,536.3808 L226.4167,537.2284 L236.5,536.7634 L246.5833,536.8207 L256.6667,537.2412 L266.75,536.4102 L276.8333,538.0702 L286.9167,536.4917 L297,537.0683 L307.0833,537.908 L317.1667,537.2177 L327.25,537.423 L337.3333,537.2894 L347.4167,537.5701 L357.5,537.6509 L367.5833,538.113 L377.6667,538.2268 L387.75,538.2377 L397.8333,537.6715 L407.9167,537.9501 L418,538.2683 L428.0833,536.3705 L438.1667,538.2367 L448.25,536.9367 L458.3333,538.0438 L468.4167,536.672 L478.5,537.2407 L488.5833,538.3208 L498.6667,537.2671 L508.75,537.4724 L518.8333,537.7835 L528.9167,537.887 L539,537.3268 L549.0833,537.715 L559.1667,536.5688 L569.25,537.7112 L579.3333,538.063 L589.4167,537.9247 L599.5,538.1494 L609.5833,536.6879 L619.6667,536.4625 L629.75,536.5035 L639.8333,537.2535 L649.9167,537.07 L660,537.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><path d="M176,545.332 L176,545.6123 L186.0833,544.7796 L196.1667,545.5897 L206.25,545.8649 L216.3333,544.3808 L226.4167,545.2284 L236.5,544.7634 L246.5833,544.8207 L256.6667,545.2412 L266.75,544.4102 L276.8333,546.0702 L286.9167,544.4917 L297,545.0683 L307.0833,545.908 L317.1667,545.2177 L327.25,545.423 L337.3333,545.2894 L347.4167,545.5701 L357.5,545.6509 L367.5833,546.113 L377.6667,546.2268 L387.75,546.2377 L397.8333,545.6715 L407.9167,545.9501 L418,546.2683 L428.0833,544.3705 L438.1667,546.2367 L448.25,544.9367 L458.3333,546.0438 L468.4167,544.672 L478.5,545.2407 L488.5833,546.3208 L498.6667,545.2671 L508.75,545.4724 L518.8333,545.7835 L528.9167,545.887 L539,545.3268 L549.0833,545.715 L559.1667,544.5688 L569.25,545.7112 L579.3333,546.063 L589.4167,545.9247 L599.5,546.1494 L609.5833,544.6879 L619.6667,544.4625 L629.75,544.5035 L639.8333,545.2535 L649.9167,545.07 L660,545.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="181" y="559.9668">+サブサイトを取得する：children()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="208" x="181" y="572.9219">+URLよりサイトを取得する：findByUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="163" x="181" y="585.877">+サイトリストを取得：getList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="181" y="598.832">+メインサイトを取得する：getMain()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="295" x="181" y="611.7871">+URLに関連するメインサイトを取得する：getMainByUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="208" x="181" y="624.7422">+プレフィックスを取得する：getPrefix()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="309" x="181" y="637.6973">+公開されている全てのサイトを取得する：getPublishedAll()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="474" x="181" y="650.6523">+コンテンツに関連したコンテンツをサイト情報と一緒に全て取得する：getRelatedContents()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="354" x="181" y="663.6074">+サイトのルートとなるコンテンツIDを取得する：getRootContentId()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="181" y="676.5625">+メインサイトのデータを取得する：getRootMain()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="326" x="181" y="689.5176">+選択可能なデバイスの一覧を取得する：getSelectableDevices()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="295" x="181" y="702.4727">+選択可能な言語の一覧を取得する：getSelectableLangs()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="279" x="181" y="715.4277">+URLに関連するサブサイトを取得する：getSubByUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="216" x="181" y="728.3828">+メインサイトかどうか判定する：isMain()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="233" x="181" y="741.3379">+デバイス設定をリセットする：resetDevice()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="181" y="754.293">+言語設定をリセットする：resetLang()</text><!--MD5=[7eeb4b838a05227218a56e467b2beb72]
class Site--><polygon fill="#FEFECE" filter="url(#fmrktmdhdxutg)" points="178.5,820.1992,178.5,820.4094,188.4792,819.7849,198.4583,820.3925,208.4375,820.5989,218.4167,819.4858,228.3958,820.1215,238.375,819.7727,248.3542,819.8157,258.3333,820.1311,268.3125,819.5078,278.2917,820.7529,288.2708,819.5689,298.25,820.0015,308.2292,820.6312,318.2083,820.1134,328.1875,820.2675,338.1667,820.1673,348.1458,820.3777,358.125,820.4384,368.1042,820.7849,378.0833,820.8703,388.0625,820.8785,398.0417,820.4538,408.0208,820.6628,418,820.9015,427.9792,819.478,437.9583,820.8777,447.9375,819.9027,457.9167,820.733,467.8958,819.7042,477.875,820.1307,487.8542,820.9408,497.8333,820.1505,507.8125,820.3045,517.7917,820.5378,527.7708,820.6155,537.75,820.1953,547.7292,820.4864,557.7083,819.6268,567.6875,820.4836,577.6667,820.7474,587.6458,820.6438,597.625,820.8122,607.6042,819.7161,617.5833,819.547,627.5625,819.5778,637.5417,820.1403,647.5208,820.0027,657.5,820.1992,658.1814,820.1992,657.3253,830.2698,657.1569,840.3405,657.7283,850.4111,656.8332,860.4817,656.9809,870.5524,658.149,880.623,657.9357,890.6936,658.2345,900.7642,657.1782,910.8349,657.8192,920.9055,658.0904,930.9761,657.0276,941.0467,657.4041,951.1174,657.626,961.188,658.1518,971.2586,657.4958,981.3293,657.9626,991.3999,656.9462,1001.4705,656.8227,1011.5411,658.0036,1021.6118,656.7831,1031.6824,658.009,1041.753,657.7066,1051.8237,657.2321,1061.8943,657.1462,1071.9649,657.9588,1082.0355,657.2007,1092.1062,658.0919,1102.1768,656.9473,1112.2474,658.1174,1122.318,657.5,1132.3887,657.5,1132.873,647.5208,1132.6336,637.5417,1132.4359,627.5625,1133.1153,617.5833,1133.0022,607.6042,1132.5579,597.625,1132.6569,587.6458,1132.2584,577.6667,1133.1051,567.6875,1132.5435,557.7083,1132.5612,547.7292,1131.7803,537.75,1131.9834,527.7708,1132.9194,517.7917,1132.8184,507.8125,1132.3457,497.8333,1132.0665,487.8542,1132.1697,477.875,1131.7025,467.8958,1132.8034,457.9167,1133.1282,447.9375,1132.9151,437.9583,1133.0836,427.9792,1132.2519,418,1132.4759,408.0208,1132.0011,398.0417,1132.6727,388.0625,1132.6354,378.0833,1132.9411,368.1042,1132.159,358.125,1132.2543,348.1458,1132.8321,338.1667,1132.956,328.1875,1131.8761,318.2083,1132.1948,308.2292,1132.5379,298.25,1131.7778,288.2708,1132.7421,278.2917,1132.6467,268.3125,1132.2879,258.3333,1132.5309,248.3542,1133.1173,238.375,1132.0758,228.3958,1132.7037,218.4167,1132.6743,208.4375,1132.5044,198.4583,1132.5296,188.4792,1132.5021,178.5,1132.3887,177.8758,1132.3887,178.0992,1122.318,178.0385,1112.2474,178.5638,1102.1768,178.5881,1092.1062,178.6617,1082.0355,178.209,1071.9649,178.4325,1061.8943,178.3798,1051.8237,179.0769,1041.753,178.9266,1031.6824,178.0145,1021.6118,178.4271,1011.5411,177.9228,1001.4705,178.7884,991.3999,179.1085,981.3293,179.0446,971.2586,178.0644,961.188,178.964,951.1174,177.7572,941.0467,178.7002,930.9761,178.2007,920.9055,178.5967,910.8349,178.7403,900.7642,178.9721,890.6936,177.7801,880.623,178.9755,870.5524,178.6782,860.4817,178.8553,850.4111,179.2478,840.3405,178.5055,830.2698,178.5,820.1992" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="408" y="836.8008">Site</text><path d="M179.5,844.332 L179.5,844.6123 L189.4375,843.7796 L199.375,844.5897 L209.3125,844.8649 L219.25,843.3808 L229.1875,844.2284 L239.125,843.7634 L249.0625,843.8207 L259,844.2412 L268.9375,843.4102 L278.875,845.0702 L288.8125,843.4917 L298.75,844.0683 L308.6875,844.908 L318.625,844.2177 L328.5625,844.423 L338.5,844.2894 L348.4375,844.5701 L358.375,844.6509 L368.3125,845.113 L378.25,845.2268 L388.1875,845.2377 L398.125,844.6715 L408.0625,844.9501 L418,845.2683 L427.9375,843.3705 L437.875,845.2367 L447.8125,843.9367 L457.75,845.0438 L467.6875,843.672 L477.625,844.2407 L487.5625,845.3208 L497.5,844.2671 L507.4375,844.4724 L517.375,844.7835 L527.3125,844.887 L537.25,844.3268 L547.1875,844.715 L557.125,843.5688 L567.0625,844.7112 L577,845.063 L586.9375,844.9247 L596.875,845.1494 L606.8125,843.6879 L616.75,843.4625 L626.6875,843.5035 L636.625,844.2535 L646.5625,844.07 L656.5,844.332 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="184.5" y="858.9668">+識別名称：name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="184.5" y="871.9219">+サイトエイリアス：alias</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="184.5" y="884.877">+サイト名：display_name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="184.5" y="897.832">+サイトタイトル：title</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="184.5" y="910.7871">+サイト基本キーワード：keyword</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="184.5" y="923.7422">+サイト基本説明文：description</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="184.5" y="936.6973">+メインサイトID：main_site_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="360" x="184.5" y="949.6523">+エイリアスを利用してメインサイトと自動連携する：relate_main_site</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="184.5" y="962.6074">+デバイス設定：device</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="184.5" y="975.5625">+言語設定：lang</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="276" x="184.5" y="988.5176">+メインサイトと同一URLでアクセス：same_main_url</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="290" x="184.5" y="1001.4727">+メインサイトから自動的にリダイレクト：auto_redirect</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="267" x="184.5" y="1014.4277">+全てのリンクをサブサイト用に変換する：auto_link</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="184.5" y="1027.3828">+テーマ：theme</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="184.5" y="1040.3379">+公開状態：status</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="184.5" y="1053.293">+別ドメインかどうか：use_subdomain</text><path d="M179.5,1059.6133 L179.5,1059.8935 L189.4375,1059.0609 L199.375,1059.871 L209.3125,1060.1462 L219.25,1058.6621 L229.1875,1059.5097 L239.125,1059.0446 L249.0625,1059.1019 L259,1059.5224 L268.9375,1058.6915 L278.875,1060.3515 L288.8125,1058.7729 L298.75,1059.3496 L308.6875,1060.1892 L318.625,1059.4989 L328.5625,1059.7043 L338.5,1059.5707 L348.4375,1059.8513 L358.375,1059.9321 L368.3125,1060.3942 L378.25,1060.508 L388.1875,1060.519 L398.125,1059.9528 L408.0625,1060.2314 L418,1060.5496 L427.9375,1058.6517 L437.875,1060.518 L447.8125,1059.2179 L457.75,1060.325 L467.6875,1058.9533 L477.625,1059.5219 L487.5625,1060.6021 L497.5,1059.5483 L507.4375,1059.7537 L517.375,1060.0648 L527.3125,1060.1683 L537.25,1059.6081 L547.1875,1059.9962 L557.125,1058.8501 L567.0625,1059.9925 L577,1060.3442 L586.9375,1060.206 L596.875,1060.4306 L606.8125,1058.9692 L616.75,1058.7437 L626.6875,1058.7847 L636.625,1059.5348 L646.5625,1059.3512 L656.5,1059.6133 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="284" x="184.5" y="1074.248">+サイトにURLが存在するかどうか判定する：existsUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="184.5" y="1087.2031">+メインサイトを取得する：getMain()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="249" x="184.5" y="1100.1582">+エイリアスを除外したURLを取得：getPureUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="236" x="184.5" y="1113.1133">+エイリアスを反映したURLを生成：makeUrl()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="467" x="184.5" y="1126.0684">+与えられたリクエストに対して自動リダイレクトすべきかどうかを返す：shouldRedirects()</text><!--MD5=[4a75d4639980b672fa12169be1e647ac]
link Admin\SitesController to SiteService--><path d="M418,146.4192 L418.2802,146.4192 L417.4476,156.4939 L418.2577,166.5686 L418.5329,176.6432 L417.0488,186.7179 L417.8964,196.7926 L417.4313,206.8672 L417.4887,216.9419 L417.9091,227.0166 L417.0782,237.0912 L418.7382,247.1659 L417.1596,257.2406 L417.7363,267.3152 L418.5759,277.3899 L417.8856,287.4646 L418,297.5392 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="418,302.9692,418.064,302.9977,418.6738,301.1131,419.6589,299.3954,420.5217,297.6233,420.9827,295.6726,422,293.9692,421.9817,293.9509,421.0995,294.6687,420.3096,295.4788,419.5839,296.3532,418.637,297.0063,418,297.9692,418.1305,298.0997,417.0514,297.0207,416.3534,296.3226,415.7018,295.671,414.7798,294.749,414,293.9692,414.0208,293.9785,414.7903,295.7649,415.6544,297.5934,416.4728,299.4016,417.3784,301.2485,418,302.9692" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[e88e0a377ee842dd8e6492e6e07f8e9f]
reverse link SiteService to BcAdminSiteHelper--><path d="M460.82,329.6992 L460.82,329.7926 L466.838,329.5151 L472.856,329.7851 L478.874,329.8769 L484.892,329.3822 L490.91,329.6992 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="455.58,329.6992,455.6085,329.7632,457.3239,330.373,459.2062,331.3581,461.0341,332.221,462.6834,332.6819,464.58,333.6992,464.5617,333.6809,463.6795,332.7987,462.8896,332.0088,462.1639,331.2832,461.217,330.3363,460.58,329.6992,460.7105,329.8297,461.2314,328.7507,462.1334,328.0526,463.0818,327.401,463.7598,326.479,464.58,325.6992,464.5892,325.72,462.7757,326.4895,461.0042,327.3536,459.2124,328.1721,457.4593,329.0776,455.58,329.6992" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[af20bf6b660a93a812c551e9ed7ba86b]
link SiteService to SitesTable--><path d="M418,356.4392 L418.2802,356.4392 L417.4476,366.5292 L418.2577,376.6192 L418.5329,386.7092 L417.0488,396.7992 L417.8964,406.8892 L417.4313,416.9792 L417.4887,427.0692 L417.9091,437.1592 L417.0782,447.2492 L418.7382,457.3392 L417.1596,467.4292 L417.7363,477.5192 L418.5759,487.6092 L417.8856,497.6992 L418,507.7892 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="418,512.8992,418.064,512.9277,418.6738,511.0431,419.6589,509.3254,420.5217,507.5533,420.9827,505.6026,422,503.8992,421.9817,503.8809,421.0995,504.5987,420.3096,505.4088,419.5839,506.2832,418.637,506.9363,418,507.8992,418.1305,508.0297,417.0514,506.9507,416.3534,506.2526,415.7018,505.601,414.7798,504.679,414,503.8992,414.0208,503.9085,414.7903,505.6949,415.6544,507.5234,416.4728,509.3316,417.3784,511.1785,418,512.8992" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[dc01d26395cd32b0b6f08e4a5ddf63ea]
reverse link SiteServiceInterface to SiteService--><path d="M365.32,329.6992 L365.32,329.7926 L368.35,329.5151 L371.38,329.7851 L374.41,329.8769 L377.44,329.3822 L380.47,329.6992 " fill="none" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="none" points="365.21,336.6992,365.2331,336.7653,361.1644,335.1689,357.2313,333.96,353.254,332.625,349.1314,330.8748,345.21,329.6992,345.2014,329.6748,349.163,328.165,353.1678,326.7786,357.2025,325.4778,361.1339,323.8817,365.21,322.6992,365.3945,322.6992,364.9999,325.4992,365.1441,328.2992,365.354,331.0992,365.1814,333.8992,365.21,336.6992" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[c1bb36f78b1ee71956347ea9481960b0]
link SitesTable to Site--><path d="M418,760.4992 L418.2802,760.4992 L417.4476,771.3592 L418.2577,782.2192 L418.5329,793.0792 L417.0488,803.9392 L418,814.7992 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="418,819.9392,418.064,819.9677,418.6738,818.0831,419.6589,816.3654,420.5217,814.5933,420.9827,812.6426,422,810.9392,421.9817,810.9209,421.0995,811.6387,420.3096,812.4488,419.5839,813.3232,418.637,813.9763,418,814.9392,418.1305,815.0697,417.0514,813.9907,416.3534,813.2926,415.7018,812.641,414.7798,811.719,414,810.9392,414.0208,810.9485,414.7903,812.7349,415.6544,814.5634,416.4728,816.3716,417.3784,818.2185,418,819.9392" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[ce9c3dc25ca42cc4c91971d10a2247b0]
@startuml
skinparam handwritten true
skinparam backgroundColor white
hide circle
skinparam classAttributeIconSize 0

title サイト管理

class Admin\SitesController {
  + サイト一覧を表示：index()
  + サイト新規追加：add()
  + サイト編集：edit()
  + サイト削除：delete()
  + 公開状態にする：publish()
  + 非公開状態にする：unpublish()
}

class BcAdminSiteHelper {
  + IDよりサイトを取得する：findById()
  + URLよりサイトを取得する：findByUrl()
  + 現在の管理対象のサイトを取得する：getCurrentSite()
  + デバイスリストを取得：getDeviceList()
  + 言語リストを取得：getLangList()
  + 現在の管理対象のサイト以外のリストを取得する：getOtherSiteList()
  + サイトのリストを取得：getSiteList()
  + テーマのリストを取得：getThemeList()
  + 現在の画面で表示しているものがメインサイトかどうか：isMainOnCurrentDisplay()
  + デバイス設定を利用するかどうか：isUseSiteDeviceSetting()
  + 言語設定を利用するかどうか：isUseSiteLangSetting()
}

class SiteService {
  + SitesTable
}

class SiteServiceInterface {
  + 初期データ取得：getNew()
  + 作成：create()
  + 編集：update()
  + 削除：delete()
  + 単一データ取得：get()
  + 一覧データ取得：getIndex()
  + リスト取得：getList()
  + IDよりサイトを取得する：findById()
  + URLよりサイトを取得する：findByUrl()
  + デバイスリストを取得：getDeviceList()
  + 言語リストを取得：getLangList()
  + 選択可能なデバイスの一覧を取得する：getSelectableDevices()
  + 選択可能が言語の一覧を取得する：getSelectableLangs()
  + テーマのリストを取得する：getThemeList()
  + 公開状態にする：publish()
  + 非公開状態にする：unpublish()
}

class SitesTable {
  + サブサイトを取得する：children()
  + URLよりサイトを取得する：findByUrl()
  + サイトリストを取得：getList()
  + メインサイトを取得する：getMain()
  + URLに関連するメインサイトを取得する：getMainByUrl()
  + プレフィックスを取得する：getPrefix()
  + 公開されている全てのサイトを取得する：getPublishedAll()
  + コンテンツに関連したコンテンツをサイト情報と一緒に全て取得する：getRelatedContents()
  + サイトのルートとなるコンテンツIDを取得する：getRootContentId()
  + メインサイトのデータを取得する：getRootMain()
  + 選択可能なデバイスの一覧を取得する：getSelectableDevices()
  + 選択可能な言語の一覧を取得する：getSelectableLangs()
  + URLに関連するサブサイトを取得する：getSubByUrl()
  + メインサイトかどうか判定する：isMain()
  + デバイス設定をリセットする：resetDevice()
  + 言語設定をリセットする：resetLang()
}

class Site {
	+ 識別名称：name
	+ サイトエイリアス：alias
	+ サイト名：display_name
	+ サイトタイトル：title
	+ サイト基本キーワード：keyword
	+ サイト基本説明文：description
	+ メインサイトID：main_site_id
	+ エイリアスを利用してメインサイトと自動連携する：relate_main_site
	+ デバイス設定：device
	+ 言語設定：lang
	+ メインサイトと同一URLでアクセス：same_main_url
	+ メインサイトから自動的にリダイレクト：auto_redirect
	+ 全てのリンクをサブサイト用に変換する：auto_link
	+ テーマ：theme
	+ 公開状態：status
	+ 別ドメインかどうか：use_subdomain
	+ サイトにURLが存在するかどうか判定する：existsUrl()
	+ メインサイトを取得する：getMain()
	+ エイリアスを除外したURLを取得：getPureUrl()
	+ エイリアスを反映したURLを生成：makeUrl()
	+ 与えられたリクエストに対して自動リダイレクトすべきかどうかを返す：shouldRedirects()
}

Admin\SitesController -down[#Black]-> SiteService
BcAdminSiteHelper -left[#Black]-> SiteService
SiteService -down[#Black]-> SitesTable
SiteService -left[dotted,#Black]-|> SiteServiceInterface
SitesTable -down[#Black]-> Site

@enduml

PlantUML version 1.2022.1(Wed Feb 02 03:19:58 JST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>