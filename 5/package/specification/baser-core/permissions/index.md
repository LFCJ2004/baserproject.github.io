# アクセス設定設計書

各領域ごとのURLにおける各機能についてのアクセス制限を設定する機能。

## 前提条件

- ユーザーグループに対してアクセス制限設定を登録できる。
- システム管理グループ（admins）に対しては登録できない。
- 設定についてはシステム管理グループのみ登録、変更ができる。

## ユースケース図
![ユースケース図：アクセス制限設定](../../../svg/use_case/baser-core/permissions.svg)

## ドメインモデル図
### アクセス制限設定管理
![ドメインモデル図：アクセス制限設定](../../../svg/domain_model/baser-core/permissions.svg)

## 領域定義

領域とは、アクセス設定の対象となる領域で次のようなものを指す。  
- Admin：管理画面
- Api：Web API
- Mypage：マイページ（本体に実装はしない）

## アクセス基本設定
ユーザーグループの編集画面にて、各グループごとに領域ごとについての基本設定を行う。  
- フルアクセス
- 限定アクセス

限定アクセスの場合には、アクセスルールグループやアクセスルールにてルールを設定できる。  
また、設定ファイルの `BcPrefixAuth.permissionType` により、ホワイトリスト方式かブラックリスト方式を選択する事ができる。

### ホワイトリスト方式
はじめに全てを拒否し、許可するURLをホワイトリストとして追加していく方式。

### ブラックリスト方式
はじめに全てを許可し、拒否するURLをブラックリストとして追加していく方式。


## アクセスルール
各領域ごとのアクセス制限におけるルールを設定する。  
[アクセスルール設定](./permissions)  

## アクセスルールグループ
主にコントローラー単位にてアクセスルールをグルーピングする。  
[アクセスルールグループ設定](./permission_groups)
